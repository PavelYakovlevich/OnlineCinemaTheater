<div class="auth-form-page flex min-h-screen flex-col justify-center w-full items-center">
    <div class="auth-form-container">
      <div class="auth-form">
        <mat-card class="mx-auto w-md flex items-center rounded-lg auth-form-container" [formGroup]="loginForm">
          <app-error-box *ngIf='lastError' [error]="lastError" (onClose)="lastError = null"></app-error-box>

          <div class="title-container flex item-center">
                <h1>Login</h1>
            </div>
      
            <mat-form-field appearance="fill" class="w-full mb-3">
                <mat-label>Enter your email</mat-label>
                <input matInput placeholder="email@example.com"  [formControl]="email" aria-required="false">
                <mat-error *ngIf="email.invalid">{{ getErrorMessage(email) }}</mat-error>
            </mat-form-field>
        
            <mat-form-field appearance="fill" class="w-full mb-3">
                <mat-label>Enter your password</mat-label>
                <input matInput [type]="hidePassword ? 'password' : 'text'" [formControl] = "password">
                <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
                  <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error *ngIf="password.invalid">{{ getErrorMessage(password) }}</mat-error>
            </mat-form-field>
      
            <div class="login-btn-container">
              <button 
                mat-flat-button color="primary" 
                (click)="onLoginBtnWasClicked()" 
                [disabled]="!allInformationIsValid() || requestInProgress"
                class="w-full login-btn">
                Login
              </button>
            </div>

            <div class="save-credentials-container mt-6 flex">
              <mat-checkbox>Save credentials</mat-checkbox>
              <div class="spacer"></div>
              <a routerLink="/forgot-password" class="ml-1 link-text">Restore password</a>
            </div>

            <div class="other-links-container mt-6 flex">
              <span>Doesn't have an account?</span>
              <a routerLink="/registration" class="ml-1 link-text">Create an account</a>
            </div>

            <mat-progress-bar class='w-100 h-100 mt-5' *ngIf='requestInProgress' mode="indeterminate"></mat-progress-bar>
        </mat-card>
      </div>
    </div>
</div>